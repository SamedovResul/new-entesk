{"ast":null,"code":"import { createTimetable, SigninAdmin, getAlldata, createClass, updateClass, getClass, deleteClass } from './api';\nexport const SignInAdmin = (adminData, router) => async dispatch => {\n  // console.log(router)\n  try {\n    var _data$signIn;\n\n    const {\n      data\n    } = await SigninAdmin(adminData);\n    console.log(data.admin);\n    dispatch({\n      type: \"SIGNIN\",\n      payload: data\n    });\n\n    if (((_data$signIn = data.signIn) === null || _data$signIn === void 0 ? void 0 : _data$signIn.role) === 1) {\n      router.push('/admin');\n    } else {\n      router.push('/teacher');\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}; // admin can get, create, update, delete \n\nexport const getData = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await getAlldata(id);\n    dispatch({\n      type: \"FETCHDATA\",\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const CreateTimetable = (timetableData, router) => async dispatch => {\n  try {\n    const {\n      data\n    } = await createTimetable(timetableData); // console.log(data)\n\n    dispatch({\n      type: \"TIMETABLE\",\n      payload: data\n    });\n    router.push(\"/login\");\n  } catch (error) {\n    console.log(error.message);\n  }\n}; // class create update delete\n\nexport const GetClass = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await getClass(); // console.log(data)\n\n    dispatch({\n      type: \"FETCHCLASSDATA\",\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const CreateClass = classData => async dispatch => {\n  try {\n    const {\n      data\n    } = await createClass(classData);\n    console.log(data);\n    dispatch({\n      type: \"CREATECLASS\",\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const UpdateClass = (id, classData) => async dispatch => {\n  try {\n    const {\n      data\n    } = await updateClass(id, classData);\n    console.log(data);\n    dispatch({\n      type: \"UPDATECLASS\",\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const DeleteClass = id => async dispatch => {\n  try {\n    const {\n      data\n    } = await deleteClass(id);\n    dispatch({\n      type: \"DELETECLASS\",\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n}; // export const getUser = () => async (dispatch) => {\n//   try {\n//     const { data } = await fetchBlogs();\n//     console.log(data)\n//     dispatch({ type: \"FETCH_ALL\", payload: data });\n//   } catch (error) {\n//     console.log(error.message);\n//   }\n// };\n// export const updateUser = (id, blog) => async (dispatch) =>{\n//   try{\n//     const {data} = await updateBlogs(id, blog);\n//     console.log(data)\n//     dispatch({type: 'UPDATE' ,payload: data})\n//   }catch(error){\n//     console.log(error.message);\n//   }\n// }\n// export const deleteBlog = (id) => async (dispatch) =>{\n//   try{\n//     await deleteBlogs(id);\n//     dispatch({type: \"DELETE\", payload: id})\n//   }catch(error){\n//     console.log(error.message)\n//   }\n// }","map":{"version":3,"sources":["/Users/Gadimlie/Desktop/Entesk-folder/my-app/src/reducer/crmRedux/action.js"],"names":["createTimetable","SigninAdmin","getAlldata","createClass","updateClass","getClass","deleteClass","SignInAdmin","adminData","router","dispatch","data","console","log","admin","type","payload","signIn","role","push","error","message","getData","id","CreateTimetable","timetableData","GetClass","CreateClass","classData","UpdateClass","DeleteClass"],"mappings":"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","sourcesContent":["import {createTimetable, SigninAdmin, getAlldata, createClass, updateClass,getClass, deleteClass} from './api'\n \nexport const SignInAdmin = (adminData,router) => async (dispatch) => {\n  // console.log(router)\n  try {\n    const { data } = await SigninAdmin(adminData);\n    console.log(data.admin)\n    dispatch({ type: \"SIGNIN\", payload: data });\n    if(data.signIn?.role === 1){\n      router.push('/admin')\n    }else{\n      router.push('/teacher')\n    }\n    \n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\n// admin can get, create, update, delete \n\nexport const getData = (id) =>  async (dispatch) =>{\n\n  try {\n    const {data} = await getAlldata(id)\n\n    dispatch({type:\"FETCHDATA\", payload:data})\n  } catch (error) {\n    console.log(error.message)\n  }\n}\n\nexport const CreateTimetable = (timetableData,router) => async (dispatch) =>{\n\n  try {\n    const {data} = await createTimetable(timetableData)\n    // console.log(data)\n    dispatch({type:\"TIMETABLE\", payload:data})\n    router.push(\"/login\")\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// class create update delete\n\nexport const GetClass = ()=> async(dispatch) =>{\n\n  try {\n    const {data} = await getClass()\n    // console.log(data)\n    dispatch({type:\"FETCHCLASSDATA\", payload:data})\n  } catch (error) {\n    console.log(error.message)\n  }\n}\n\nexport const CreateClass= (classData) => async (dispatch) =>{\n   \n  try {\n    const {data} = await createClass(classData)\n    console.log(data)\n    dispatch({type:\"CREATECLASS\", payload: data})\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport const UpdateClass= (id,classData) => async (dispatch) =>{\n   \n  try {\n    const {data} = await updateClass(id,classData)\n    console.log(data)\n    dispatch({type:\"UPDATECLASS\", payload: data})\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport const DeleteClass = (id) => async (dispatch)  => {\n\n  try {\n    \n    const {data} = await deleteClass(id)\n\n    dispatch({type: \"DELETECLASS\" , payload:data})\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n\n// export const getUser = () => async (dispatch) => {\n//   try {\n//     const { data } = await fetchBlogs();\n//     console.log(data)\n//     dispatch({ type: \"FETCH_ALL\", payload: data });\n//   } catch (error) {\n//     console.log(error.message);\n//   }\n// };\n\n// export const updateUser = (id, blog) => async (dispatch) =>{\n//   try{\n    \n//     const {data} = await updateBlogs(id, blog);\n//     console.log(data)\n\n//     dispatch({type: 'UPDATE' ,payload: data})\n\n//   }catch(error){\n//     console.log(error.message);\n//   }\n// }\n\n// export const deleteBlog = (id) => async (dispatch) =>{\n//   try{\n//     await deleteBlogs(id);\n\n//     dispatch({type: \"DELETE\", payload: id})\n\n//   }catch(error){\n//     console.log(error.message)\n//   }\n// }"]},"metadata":{},"sourceType":"module"}